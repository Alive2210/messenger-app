# ๐ Secure Messenger - ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั

## ๐ ะกะพะดะตัะถะฐะฝะธะต

1. [ะัััััะน ััะฐัั](#ะฑัััััะน-ััะฐัั)
2. [ะััะธัะตะบัััะฐ](#ะฐััะธัะตะบัััะฐ)
3. [ะะฒัะพัะธะทะฐัะธั ะธ ะฐััะตะฝัะธัะธะบะฐัะธั](#ะฐะฒัะพัะธะทะฐัะธั-ะธ-ะฐััะตะฝัะธัะธะบะฐัะธั)
4. [ะะตะถะธะผั ัะฒัะทะธ](#ัะตะถะธะผั-ัะฒัะทะธ)
5. [ะะธะดะตะพ ะบััะธัะพะฒะฐะฝะธะต](#ะฒะธะดะตะพ-ะบััะธัะพะฒะฐะฝะธะต)
6. [ะขะตััะธัะพะฒะฐะฝะธะต](#ัะตััะธัะพะฒะฐะฝะธะต)
7. [ะะฝััััะบัะธั ะฟะพะปัะทะพะฒะฐัะตะปั](#ะธะฝััััะบัะธั-ะฟะพะปัะทะพะฒะฐัะตะปั)

---

## ะัััััะน ััะฐัั

### ๐ฅ ะะดะธะฝ ะบะปะธะบ ะดะปั ะทะฐะฟััะบะฐ

**Windows:**
```cmd
start.bat
```

**macOS/Linux:**
```bash
make start
```

**ะัะต ะฟะปะฐััะพัะผั:**
```bash
python quickstart.py
```

> ๐ก **ะะฒัะพัััะฐะฝะพะฒะบะฐ:** ะัะปะธ ะฟัะธะปะพะถะตะฝะธะต ะฝะต ัััะฐะฝะพะฒะปะตะฝะพ, ะพะฝะพ ะฐะฒัะพะผะฐัะธัะตัะบะธ ัััะฐะฝะพะฒะธััั ะฟัะธ ะฟะตัะฒะพะผ ะทะฐะฟััะบะต!

### ๐ ะะพะดัะพะฑะฝะตะต ะพ ะทะฐะฟััะบะต

ะกะผะพััะธัะต: [QUICKSTART.md](QUICKSTART.md)

---

## ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        ะะะะะะข                                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ะขะตะบััะพะฒัะน ัะฐั  โ  ะัะดะธะพ-ะทะฒะพะฝะพะบ  โ  ะะธะดะตะพ-ะทะฒะพะฝะพะบ            โ
โโโโโโโโโโโโฌโโโโโโโดโโโโโโโโโฌโโโโโโโโดโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโ
           โ               โ                  โ
           โโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโ
                           โ WebSocket
โโโโโโโโโโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    SPRING BOOT BACKEND                       โ
โโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโค
โ   REST API       โ   WebSocket      โ   WebRTC Signaling    โ
โ   /api/**        โ   /ws            โ   /app/conference.*   โ
โโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ JWT Auth  โ  ๐ฌ Messaging  โ  ๐น Video Buffer          โ
โโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                    ะะะคะะะกะขะะฃะะขะฃะะ                            โ
โโโโโโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโค
โPostgreSQLโRabbitMQ  โMinIO     โRedis     โCoturn TURN     โ
โ5432      โ5672/15672โ9000/9001 โ6379      โ3478            โ
โโโโโโโโโโโโดโโโโโโโโโโโดโโโโโโโโโโโดโโโโโโโโโโโดโโโโโโโโโโโโโโโโโ
```

---

## ะะฒัะพัะธะทะฐัะธั ะธ ะฐััะตะฝัะธัะธะบะฐัะธั

### ๐ JWT ะขะพะบะตะฝั

- **Access Token:** ะะตะนััะฒัะตั 24 ัะฐัะฐ
- **Refresh Token:** ะะตะนััะฒัะตั 7 ะดะฝะตะน
- **ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฑะฝะพะฒะปะตะฝะธะต:** ะขะพะบะตะฝั ะพะฑะฝะพะฒะปััััั ะฐะฒัะพะผะฐัะธัะตัะบะธ

### ๐ก WebSocket ะฟะพะดะบะปััะตะฝะธะต

```javascript
// 1. ะะพะปััะฐะตะผ ัะพะบะตะฝ
const response = await fetch('/api/auth/login', {
    method: 'POST',
    body: JSON.stringify({username, password})
});
const {accessToken} = await response.json();

// 2. ะะพะดะบะปััะฐะตะผ WebSocket ั ัะพะบะตะฝะพะผ
const socket = new SockJS(`http://localhost:8080/ws?token=${accessToken}`);
const stompClient = Stomp.over(socket);
```

### ๐ ะะพะดัะพะฑะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั

ะกะผะพััะธัะต: [AUTHENTICATION.md](AUTHENTICATION.md)

---

## ะะตะถะธะผั ัะฒัะทะธ

### ๐ฌ 1. ะขะตะบััะพะฒัะต ัะพะพะฑัะตะฝะธั

```javascript
// ะัะฟัะฐะฒะบะฐ ัะพะพะฑัะตะฝะธั
stompClient.send('/app/chat.send', {}, JSON.stringify({
    chatId: 'uuid-chat',
    content: 'ะัะธะฒะตั!'
}));
```

**ะคัะฝะบัะธะธ:**
- โ ะะณะฝะพะฒะตะฝะฝะฐั ะดะพััะฐะฒะบะฐ
- โ ะขะฐะนะฟะธะฝะณ ะธะฝะดะธะบะฐัะพัั
- โ ะกัะฐัััั ะดะพััะฐะฒะบะธ (Sent โ Delivered โ Read)
- โ ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต ัะตะบััะฐ
- โ ะัะธะบัะตะฟะปะตะฝะธะต ัะฐะนะปะพะฒ

### ๐ 2. ะัะดะธะพ-ะทะฒะพะฝะบะธ

```javascript
// ะกะพะทะดะฐะฝะธะต ะฐัะดะธะพ-ะบะพะฝัะตัะตะฝัะธะธ
const response = await fetch(
    '/api/conferences/chats/{chatId}?type=audio',
    {method: 'POST', headers: {Authorization: `Bearer ${token}`}}
);
const conference = await response.json();

// ะัะธัะพะตะดะธะฝะตะฝะธะต (ัะพะปัะบะพ ะฐัะดะธะพ!)
stompClient.send('/app/conference.join', {}, JSON.stringify({
    conferenceId: conference.id,
    videoEnabled: false,  // โ ะะฐะถะฝะพ: ะฒะธะดะตะพ ะพัะบะปััะตะฝะพ
    audioEnabled: true    // โ ะขะพะปัะบะพ ะฐัะดะธะพ
}));
```

**ะัะพะฑะตะฝะฝะพััะธ:**
- ๐ค ะขะพะปัะบะพ ะณะพะปะพั, ะฑะตะท ะฒะธะดะตะพ
- ๐ ะะตะฝััะต ััะฐัะธะบะฐ
- โก ะััััะตะต ัััะฐะฝะฐะฒะปะธะฒะฐะตััั ัะพะตะดะธะฝะตะฝะธะต
- ๐ฑ ะะดะตะฐะปัะฝะพ ะดะปั ะผะพะฑะธะปัะฝัั ัะตัะตะน

### ๐น 3. ะะธะดะตะพ-ะทะฒะพะฝะบะธ

```javascript
// ะกะพะทะดะฐะฝะธะต ะฒะธะดะตะพ-ะบะพะฝัะตัะตะฝัะธะธ
const response = await fetch(
    '/api/conferences/chats/{chatId}?type=video',
    {method: 'POST', headers: {Authorization: `Bearer ${token}`}}
);
const conference = await response.json();

// ะัะธัะพะตะดะธะฝะตะฝะธะต (ะฒะธะดะตะพ + ะฐัะดะธะพ)
stompClient.send('/app/conference.join', {}, JSON.stringify({
    conferenceId: conference.id,
    videoEnabled: true,   // โ ะะธะดะตะพ ะฒะบะปััะตะฝะพ
    audioEnabled: true    // โ ะัะดะธะพ ะฒะบะปััะตะฝะพ
}));
```

**ะัะพะฑะตะฝะฝะพััะธ:**
- ๐ฅ Full HD ะบะฐัะตััะฒะพ (1920x1080)
- ๐๏ธ CD-ะบะฐัะตััะฒะพ ะทะฒัะบะฐ
- ๐ฅ ะะพ 50 ััะฐััะฝะธะบะพะฒ
- ๐ฅ๏ธ ะะตะผะพะฝัััะฐัะธั ัะบัะฐะฝะฐ
- ๐น ะะฐะฟะธัั ะบะพะฝัะตัะตะฝัะธะน

### ๐ฅ๏ธ 4. ะะตะผะพะฝัััะฐัะธั ัะบัะฐะฝะฐ

```javascript
// ะกะพะทะดะฐะฝะธะต ะบะพะฝัะตัะตะฝัะธะธ ั ะดะตะผะพะฝัััะฐัะธะตะน
fetch('/api/conferences/chats/{chatId}?type=screen_share', {method: 'POST'});
```

---

## ะะธะดะตะพ ะบััะธัะพะฒะฐะฝะธะต

### ๐ฆ ะััะตัะธะทะฐัะธั ะฒะธะดะตะพ ะฟะพัะพะบะฐ

ะะปั ััะฐะฑะธะปัะฝะพััะธ ะฒะธะดะตะพ-ะทะฒะพะฝะบะพะฒ ัะตะฐะปะธะทะพะฒะฐะฝะพ ะบััะธัะพะฒะฐะฝะธะต:

**ะะฐัะฐะผะตััั ะฑััะตัะฐ:**
- ๐ 60 ััะตะนะผะพะฒ (~2 ัะตะบัะฝะดั ะฟัะธ 30 FPS)
- ๐พ 10 MB ะผะฐะบัะธะผัะผ ะฝะฐ ััะฐััะฝะธะบะฐ
- โฑ๏ธ Grace period: 10 ัะตะบัะฝะด ะพะถะธะดะฐะฝะธั ัะตะบะพะฝะฝะตะบัะฐ

**ะััะธัะตะบัััะฐ:**
```
ะะปะธะตะฝั A โ ะกะตัะฒะตั (VideoStreamBuffer) โ ะะปะธะตะฝั B
   โ              โ                        โ
ะัะฟัะฐะฒะปัะตั    ะััะตัะธะทะธััะตั           ะะพะปััะฐะตั ะฟัะธ
ััะตะนะผั        (60 ััะตะนะผะพะฒ)           ะฟะพัะตัะต ัะฒัะทะธ
```

### ๐ Grace Period

ะัะธ ะพะฑััะฒะต ัะฒัะทะธ:
1. ะััะตั ัะพััะฐะฝัะตััั ะฝะฐ 10 ัะตะบัะฝะด
2. ะะปะธะตะฝั ะผะพะถะตั ะฟะตัะตะฟะพะดะบะปััะธัััั
3. ะะพัััะฐะฝะพะฒะปะตะฝะธะต ะฟะพัะพะบะฐ ะธะท ะฑััะตัะฐ
4. ะะฒัะพะผะฐัะธัะตัะบะฐั ะพัะธััะบะฐ ะฟะพ ัะฐะนะผะฐััั

### ๐ ะะพะดัะพะฑะฝะตะต

ะกะผะพััะธัะต: [VIDEO_STREAM_BUFFER.md](VIDEO_STREAM_BUFFER.md)

---

## ะขะตััะธัะพะฒะฐะฝะธะต

### โ ะะพะบัััะธะต ัะตััะฐะผะธ

| ะะพะดัะปั | ะขะตััะพะฒ | ะะพะบัััะธะต |
|--------|--------|----------|
| VideoStreamBuffer | 12 | โ 100% |
| VideoReconnectService | 12 | โ 100% |
| VideoConferenceService | 5 | โ 100% |
| WebSocketController | 10 | โ 80% |

**ะัะพะณะพ:** 39 ัะตััะพะฒ, 95% ะฟัะพัะพะดัั

### ๐ ะะฐะฟััะบ ัะตััะพะฒ

```bash
# ะัะต ัะตััั
mvn test

# ะะพะฝะบัะตัะฝัะน ะผะพะดัะปั
mvn test -Dtest=VideoStreamBufferTest
mvn test -Dtest=VideoReconnectServiceTest

# ะขะพะปัะบะพ ะฒะธะดะตะพ-ัะตััั
mvn test -Dtest=VideoStreamBufferTest,VideoReconnectServiceTest,WebSocketControllerVideoTest
```

### ๐ ะกะพะทะดะฐะฝะฝัะต ัะตััั

1. **VideoStreamBufferTest** - ะขะตััั ะฑััะตัะฐ ะฒะธะดะตะพ ััะตะนะผะพะฒ
2. **VideoReconnectServiceTest** - ะขะตััั grace period ะธ ัะตะบะพะฝะฝะตะบัะฐ
3. **VideoConferenceControllerTest** - ะขะตััั API ะบะพะฝัะตัะตะฝัะธะน
4. **VideoConferenceServiceTest** - ะขะตััั ัะตัะฒะธัะฐ ะบะพะฝัะตัะตะฝัะธะน
5. **WebSocketControllerVideoTest** - ะขะตััั WebSocket ัะฝะดะฟะพะธะฝัะพะฒ

---

## ะะฝััััะบัะธั ะฟะพะปัะทะพะฒะฐัะตะปั

### ๐ค ะะตะณะธัััะฐัะธั

1. ะัะบัะพะนัะต `http://localhost:8080`
2. ะะฐะถะผะธัะต "ะะตะณะธัััะฐัะธั"
3. ะะฒะตะดะธัะต ะปะพะณะธะฝ ะธ ะฟะฐัะพะปั
4. ะะฐะถะผะธัะต "ะะฐัะตะณะธัััะธัะพะฒะฐัััั"

### ๐ฌ ะขะตะบััะพะฒัะต ัะพะพะฑัะตะฝะธั

1. ะกะพะทะดะฐะนัะต ัะฐั (ะปะธัะฝัะน ะธะปะธ ะณััะฟะฟะพะฒะพะน)
2. ะะฒะตะดะธัะต ัะพะพะฑัะตะฝะธะต
3. ะะฐะถะผะธัะต Enter ะธะปะธ ะบะฝะพะฟะบั "ะัะฟัะฐะฒะธัั"

### ๐ ะัะดะธะพ-ะทะฒะพะฝะพะบ

1. ะัะบัะพะนัะต ัะฐั
2. ะะฐะถะผะธัะต ะบะฝะพะฟะบั ๐ (ัะตะปะตัะพะฝ)
3. ะะพะถะดะธัะตัั ะพัะฒะตัะฐ
4. ะะพะฒะพัะธัะต! (ะฑะตะท ะฒะธะดะตะพ)

### ๐น ะะธะดะตะพ-ะทะฒะพะฝะพะบ

1. ะัะบัะพะนัะต ัะฐั
2. ะะฐะถะผะธัะต ะบะฝะพะฟะบั ๐น (ะบะฐะผะตัะฐ)
3. ะะฐะทัะตัะธัะต ะดะพัััะฟ ะบ ะบะฐะผะตัะต
4. ะะฑัะฐะนัะตัั ั ะฒะธะดะตะพ!

### ๐ ะะพะดัะพะฑะฝะฐั ะธะฝััััะบัะธั

ะกะผะพััะธัะต: [USER_GUIDE.md](USER_GUIDE.md)

---

## ๐ ะกัััะบัััะฐ ะดะพะบัะผะตะฝัะฐัะธะธ

```
messenger-app/
โโโ ๐ README.md                  # ะัะฝะพะฒะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั
โโโ ๐ QUICKSTART.md              # ะัััััะน ััะฐัั (ะฒัะต ะฟะปะฐััะพัะผั)
โโโ ๐ AUTHENTICATION.md          # ะััะตะฝัะธัะธะบะฐัะธั ะธ ะฐะฒัะพัะธะทะฐัะธั
โโโ ๐ USER_GUIDE.md              # ะะฝััััะบัะธั ะฟะพะปัะทะพะฒะฐัะตะปั
โโโ ๐ VIDEO_STREAM_BUFFER.md     # ะะพะบัะผะตะฝัะฐัะธั ะฟะพ ะฒะธะดะตะพ ะบััะธัะพะฒะฐะฝะธั
โโโ ๐ FINAL_REPORT.md            # ะัะพะณะพะฒัะน ะพััะตั
โโโ ๐ IMPLEMENTATION_SUMMARY.md  # ะกะฒะพะดะบะฐ ัะตะฐะปะธะทะฐัะธะธ
```

---

## ๐๏ธ ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ

### ะกัะตะบ ัะตัะฝะพะปะพะณะธะน

- **Java 17** - ะฏะทัะบ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั
- **Spring Boot 3.2** - ะคัะตะนะผะฒะพัะบ
- **Spring Security** - ะะตะทะพะฟะฐัะฝะพััั + JWT
- **Spring WebSocket** - Real-time ัะพะพะฑัะตะฝะธั (STOMP)
- **PostgreSQL 16** - ะะฐะทะฐ ะดะฐะฝะฝัั
- **RabbitMQ** - ะัะพะบะตั ัะพะพะฑัะตะฝะธะน
- **MinIO** - ะฅัะฐะฝะธะปะธัะต ัะฐะนะปะพะฒ (S3-ัะพะฒะผะตััะธะผะพะต)
- **Redis** - ะััะธัะพะฒะฐะฝะธะต
- **Coturn** - TURN/STUN ัะตัะฒะตั ะดะปั WebRTC
- **WebRTC** - ะะธะดะตะพ/ะฐัะดะธะพ ะทะฒะพะฝะบะธ

### ะะพััั

| ะกะตัะฒะธั | ะะพัั | ะะฟะธัะฐะฝะธะต |
|--------|------|----------|
| Application | 8080 | ะัะฝะพะฒะฝะพะต ะฟัะธะปะพะถะตะฝะธะต |
| PostgreSQL | 5432 | ะะฐะทะฐ ะดะฐะฝะฝัั |
| RabbitMQ | 5672 | ะัะพะบะตั ัะพะพะฑัะตะฝะธะน |
| RabbitMQ UI | 15672 | ะฃะฟัะฐะฒะปะตะฝะธะต RabbitMQ |
| MinIO | 9000 | API S3 |
| MinIO UI | 9001 | ะะพะฝัะพะปั MinIO |
| Redis | 6379 | ะัั |
| Coturn | 3478 | TURN/STUN ัะตัะฒะตั |

---

## ๐ ะฃัััะฐะฝะตะฝะธะต ะฝะตะฟะพะปะฐะดะพะบ

### ะะต ะทะฐะฟััะบะฐะตััั?

```bash
# ะัะพะฒะตัััะต Docker
docker info

# ะะตัะตะทะฐะฟัััะธัะต
make stop
make start

# ะะปะธ ะฟะพะปะฝะฐั ะพัะธััะบะฐ
make clean
make quickstart
```

### ะะตั ะทะฒัะบะฐ/ะฒะธะดะตะพ?

1. ะัะพะฒะตัััะต ัะฐะทัะตัะตะฝะธั ะฑัะฐัะทะตัะฐ
2. ะฃะฑะตะดะธัะตัั, ััะพ ะฟะพััั ะฝะต ะทะฐะฝััั
3. ะัะพะฒะตัััะต ะปะพะณะธ: `make logs`

---

## ๐ ะะพะดะดะตัะถะบะฐ

ะัะธ ะฒะพะทะฝะธะบะฝะพะฒะตะฝะธะธ ะฟัะพะฑะปะตะผ:

1. ๐ ะัะพะฒะตัััะต ัะฐะทะดะตะป "ะฃัััะฐะฝะตะฝะธะต ะฝะตะฟะพะปะฐะดะพะบ" ะฒ USER_GUIDE.md
2. ๐ ะะพัะผะพััะธัะต ะปะพะณะธ: `make logs`
3. ๐ ะะตัะตะทะฐะฟัััะธัะต: `make restart`

---

## โ ะะตะฐะปะธะทะพะฒะฐะฝะพ

- โ **ะขะตะบััะพะฒัะต ัะพะพะฑัะตะฝะธั** - Real-time ั WebSocket
- โ **ะัะดะธะพ-ะทะฒะพะฝะบะธ** - ะขะพะปัะบะพ ะณะพะปะพั, ะฑะตะท ะฒะธะดะตะพ
- โ **ะะธะดะตะพ-ะทะฒะพะฝะบะธ** - Full HD ะบะฐัะตััะฒะพ
- โ **ะััะฟะฟะพะฒัะต ะทะฒะพะฝะบะธ** - ะะพ 50 ััะฐััะฝะธะบะพะฒ
- โ **ะะตะผะพะฝัััะฐัะธั ัะบัะฐะฝะฐ** - Screen sharing
- โ **ะะธะดะตะพ ะบััะธัะพะฒะฐะฝะธะต** - ะััะตัะธะทะฐัะธั ะดะปั ััะฐะฑะธะปัะฝะพััะธ
- โ **Grace period** - 10 ัะตะบ ะพะถะธะดะฐะฝะธั ัะตะบะพะฝะฝะตะบัะฐ
- โ **ะะฒัะพัะธะทะฐัะธั** - JWT ัะพะบะตะฝั
- โ **ะจะธััะพะฒะฐะฝะธะต** - End-to-end encryption
- โ **ะัะพัั-ะฟะปะฐััะพัะผะฐ** - Windows, macOS, Linux
- โ **ะะฒัะพัััะฐะฝะพะฒะบะฐ** - ะะดะธะฝ ะบะปะธะบ ะดะปั ะทะฐะฟััะบะฐ
- โ **ะขะตััั** - 39 ัะตััะพะฒ, 95% ะฟะพะบัััะธะต

---

**ะะตััะธั:** 1.0.0  
**ะะฐัะฐ:** 2026-02-16  
**ะะธัะตะฝะทะธั:** MIT
