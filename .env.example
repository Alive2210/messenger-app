# Messenger Environment Configuration Example
# Copy this file to .env and update values

# ==========================================
# Database Configuration
# ==========================================
DB_HOST=postgres
DB_PORT=5432
DB_NAME=messenger_db
DB_USERNAME=messenger_user
DB_PASSWORD=your_secure_db_password_here

# ==========================================
# JWT Configuration
# ==========================================
JWT_SECRET=your_jwt_secret_key_here_at_least_32_chars
JWT_EXPIRATION=86400000
JWT_REFRESH_EXPIRATION=604800000

# ==========================================
# MinIO Configuration
# ==========================================
MINIO_ENDPOINT=http://minio:9000
MINIO_ACCESS_KEY=minio_admin_access_key
MINIO_SECRET_KEY=minio_admin_secret_key
MINIO_BUCKET_NAME=messenger-files

# ==========================================
# RabbitMQ Configuration
# ==========================================
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USER=messenger_rabbitmq_user
RABBITMQ_PASS=messenger_rabbitmq_password

# ==========================================
# Redis Configuration
# ==========================================
REDIS_HOST=redis
REDIS_PORT=6379

# ==========================================
# TURN/STUN Server Configuration (WebRTC)
# ==========================================
# Для работы через VPN/NAT без потерь качества
TURN_SERVER_HOST=coturn
TURN_SERVER_PORT=3478
TURN_SERVER_TLS_PORT=5349
TURN_REALM=messenger.local
TURN_SERVER_NAME=turn.messenger.local
TURN_USER=messenger_turn_user
TURN_PASS=messenger_turn_secure_password
# IP адрес для relay (укажите IP сервера в VPN сети)
TURN_RELAY_IP=0.0.0.0
# Внешний IP (для NAT, если TURN за NAT)
TURN_EXTERNAL_IP=0.0.0.0

# ==========================================
# WebRTC Video/Audio Quality Settings
# ==========================================
# Видео кодек: VP9 (лучшее качество) или H264
VIDEO_CODEC=VP9
# Битрейт видео: 4000000 = 4 Mbps (Full HD без потерь)
VIDEO_BITRATE=4000000
# Частота кадров
VIDEO_FRAMERATE=30
# Разрешение видео
VIDEO_WIDTH=1920
VIDEO_HEIGHT=1080

# Аудио битрейт: 128000 = 128 kbps (CD качество)
AUDIO_BITRATE=128000

# ==========================================
# Application Settings
# ==========================================
SERVER_PORT=8080
LOG_LEVEL=INFO
MAX_FILE_SIZE=100MB
MAX_REQUEST_SIZE=100MB

# Log Configuration
LOG_PATH=logs
LOG_MAX_HISTORY=30
LOG_MAX_SIZE=100MB
LOG_TOTAL_SIZE_CAP=10GB

# Root log level
ROOT_LOG_LEVEL=INFO
CONSOLE_LOG_LEVEL=INFO
APP_LOG_LEVEL=DEBUG
WS_LOG_LEVEL=DEBUG
SQL_LOG_LEVEL=WARN
SPRING_LOG_LEVEL=WARN
SECURITY_LOG_LEVEL=INFO
